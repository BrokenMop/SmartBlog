<!-- UPDATE  tabindex -->
<!-- TRANS  Title -->
<!-- TRANS  Blog Body -->
<!-- TRANS  Display Author -->

{{
  response.files.insert(0,URL('static','ckeditor/ckeditor.js'))
}}


{{extend 'centeronecol.html'}}

<div id="post-new" class="grid_16 alpha">
    <h3>Create a New Post</h3>
    <form  action="{{=URL('save')}}" method="POST">
        <p class="no-border">
            <label for="post-title">Title</label><br />
            <input id="post-title" name="post-title" type="text" class="span10" placeholder="Enter a title" required>
        </p>
        <p class="no-border">
            <label for="post-category">Category</label><br />
            <select id="post-category" name="post-category" class="span2" required></select>
        </p>
        <p class="no-border">
            <label class="post-body">Blog Body</label><br />
            <textarea name="post-body" id="post-body" rows="30" cols="40"></textarea>
        </p>
        <p class="no-border">
            <label class="if-display-author">Display Author</label><br />
            <input type="checkbox" id="if-display-author" name="if-display-author" checked >
        </p>

    <input class="button" type="submit" value="Submit" tabindex="3" />
    </form>
</div>
    <script>
        CKEDITOR.replace('post-body',
                {
                    width: "650px",
                    height: "600px"
                });


       $( document ).ready(function() {
        var select1 = document.getElementById("post-category");
        {{for r in categories:}}
           var opt = '{{=r.post_category.category_name}} ({{=r.count}}) '
            var el = document.createElement("option");
            el.textContent = opt;
            el.value = '{{=r.post_category.id}}';
            select1.appendChild(el);
        {{pass}}
        });
    </script>
